[gd_scene load_steps=24 format=3 uid="uid://ccehe80xetj6t"]

[ext_resource type="Script" uid="uid://dl1mvpq2oswla" path="res://gravity_area.gd" id="1_606m0"]
[ext_resource type="Script" uid="uid://yaka46uyewui" path="res://red_planet.gd" id="1_waapx"]
[ext_resource type="Texture2D" uid="uid://cbnnf1jnp50fv" path="res://images/core.png" id="2_qb5by"]
[ext_resource type="Texture2D" uid="uid://blvxaah04dx40" path="res://MeinPlanet.png" id="2_waapx"]
[ext_resource type="Script" uid="uid://b6m6yunlme3ah" path="res://destruction_level.gd" id="2_wj02g"]
[ext_resource type="Script" uid="uid://3rbkavm5a804" path="res://owner_area.gd" id="3_amldy"]
[ext_resource type="Script" uid="uid://jv2vp43s31cy" path="res://PlanetAreaSetup.gd" id="3_pioia"]
[ext_resource type="Script" uid="uid://c51eu0erc1n7w" path="res://core.gd" id="4_dsek3"]
[ext_resource type="PackedScene" uid="uid://dhrqqo38wiuqi" path="res://pool-manager/Pool2DBasic.tscn" id="7_4qakw"]
[ext_resource type="PackedScene" uid="uid://cmhuraialdsjy" path="res://FractureShard.tscn" id="8_wj02g"]
[ext_resource type="Shader" uid="uid://bdoskqen727u8" path="res://cloud.gdshader" id="11_whogj"]

[sub_resource type="Resource" id="Resource_dsek3"]
script = ExtResource("2_wj02g")
poly = Array[NodePath]([NodePath("Planet")])
metadata/_custom_type_script = "uid://b6m6yunlme3ah"

[sub_resource type="Resource" id="Resource_qb5by"]
script = ExtResource("3_pioia")
gravity = true
gravity_str = 900.0
metadata/_custom_type_script = "uid://jv2vp43s31cy"

[sub_resource type="CircleShape2D" id="CircleShape2D_73fnb"]
radius = 1261.0016

[sub_resource type="Resource" id="Resource_pioia"]
script = ExtResource("3_pioia")
parentize_ship = true
metadata/_custom_type_script = "uid://jv2vp43s31cy"

[sub_resource type="CircleShape2D" id="CircleShape2D_amldy"]
radius = 1100.0

[sub_resource type="FastNoiseLite" id="FastNoiseLite_whogj"]
noise_type = 2
fractal_type = 2
domain_warp_enabled = true
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_sryvg"]
width = 1024
height = 1024
noise = SubResource("FastNoiseLite_whogj")
seamless = true
in_3d_space = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sryvg"]
shader = ExtResource("11_whogj")
shader_parameter/noise = SubResource("NoiseTexture2D_sryvg")
shader_parameter/power = 1.77999996393876
shader_parameter/radius = 0.43999999016512
shader_parameter/crop_edge = 0.05999999865888
shader_parameter/rotate_speed = 0.1

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dsek3"]
noise_type = 2
seed = 200
frequency = 0.011
domain_warp_enabled = true
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_whogj"]
width = 1024
height = 1024
noise = SubResource("FastNoiseLite_dsek3")
seamless = true
in_3d_space = true

[sub_resource type="CurveTexture" id="CurveTexture_cyt60"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p6utv"]
shader = ExtResource("11_whogj")
shader_parameter/noise = SubResource("CurveTexture_cyt60")
shader_parameter/power = 1.0
shader_parameter/radius = 0.5
shader_parameter/crop_edge = 0.12
shader_parameter/rotate_speed = 0.1

[node name="RedPlanet" type="AnimatableBody2D"]
input_pickable = true
script = ExtResource("1_waapx")
destruction_levels = Array[ExtResource("2_wj02g")]([SubResource("Resource_dsek3")])

[node name="Core" type="Sprite2D" parent="."]
scale = Vector2(2.595, 2.595)
texture = ExtResource("2_qb5by")
script = ExtResource("4_dsek3")

[node name="GravityArea" type="Area2D" parent="."]
gravity_space_override = 3
gravity_point = true
script = ExtResource("1_606m0")
gravity_power = 900.0
setup = SubResource("Resource_qb5by")

[node name="CollisionShape2D" type="CollisionShape2D" parent="GravityArea"]
shape = SubResource("CircleShape2D_73fnb")

[node name="OwnerArea" type="Area2D" parent="."]
script = ExtResource("3_amldy")
setup = SubResource("Resource_pioia")

[node name="CollisionShape2D" type="CollisionShape2D" parent="OwnerArea"]
shape = SubResource("CircleShape2D_amldy")

[node name="Planet" type="Polygon2D" parent="."]
texture = ExtResource("2_waapx")
texture_offset = Vector2(870, 870)
texture_scale = Vector2(0.588, 0.588)
polygon = PackedVector2Array(15.086945, -758.9857, 92.4397, -753.39, 151.6886, -743.18604, 209.41858, -728.74817, 262.29074, -711.27716, 306.30002, -692.87585, 354.5718, -669.04895, 410.55457, -635.642, 460.99905, -600.0367, 508.6733, -559.34753, 558.5182, -508.7459, 598.2295, -459.55914, 639.0577, -400.8866, 671.55695, -343.6504, 704.9949, -270.4043, 723.75714, -209.18037, 744.49365, -116.99703, 753.2561, -17.4259, 749.9745, 67.1883, 740.774, 137.2864, 724.5638, 204.31778, 696.79767, 285.49036, 662.7622, 358.26794, 620.5804, 427.7268, 578.68695, 483.4939, 526.9094, 539.05914, 459.74353, 598.13293, 384.22815, 650.40936, 297.92737, 693.77155, 203.19766, 728.2907, 90.52981, 751.7662, 4.17815, 757.3252, -98.62144, 752.201, -186.90845, 736.0488, -271.0105, 709.93994, -341.7063, 679.6562, -391.6789, 652.1263, -438.6592, 622.80096, -486.92468, 586.168, -532.32635, 544.9565, -595.3888, 477.93726, -656.1541, 388.4525, -693.6144, 316.7555, -723.157, 244.74954, -745.5599, 166.68298, -761.0754, 61.986397, -763.0032, -20.904766, -750.01965, -138.44557, -716.3614, -266.3982, -674.7406, -359.27838, -591.25946, -482.45483, -489.86884, -585.1806, -396.56796, -651.6575, -293.93716, -703.556, -161.0813, -744.2894, -59.033585, -758.28455)
uv = PackedVector2Array(15.086945, -758.9857, 92.4397, -753.39, 151.6886, -743.18604, 209.41858, -728.74817, 262.29074, -711.27716, 306.30002, -692.87585, 354.5718, -669.04895, 410.55457, -635.642, 460.99905, -600.0367, 508.6733, -559.34753, 558.5182, -508.7459, 598.2295, -459.55914, 639.0577, -400.8866, 671.55695, -343.6504, 704.9949, -270.4043, 723.75714, -209.18037, 744.49365, -116.99703, 753.2561, -17.4259, 749.9745, 67.1883, 740.774, 137.2864, 724.5638, 204.31778, 696.79767, 285.49036, 662.7622, 358.26794, 620.5804, 427.7268, 578.68695, 483.4939, 526.9094, 539.05914, 459.74353, 598.13293, 384.22815, 650.40936, 297.92737, 693.77155, 203.19766, 728.2907, 90.52981, 751.7662, 4.17815, 757.3252, -98.62144, 752.201, -186.90845, 736.0488, -271.0105, 709.93994, -341.7063, 679.6562, -391.6789, 652.1263, -438.6592, 622.80096, -486.92468, 586.168, -532.32635, 544.9565, -595.3888, 477.93726, -656.1541, 388.4525, -693.6144, 316.7555, -723.157, 244.74954, -745.5599, 166.68298, -761.0754, 61.986397, -763.0032, -20.904766, -750.01965, -138.44557, -716.3614, -266.3982, -674.7406, -359.27838, -591.25946, -482.45483, -489.86884, -585.1806, -396.56796, -651.6575, -293.93716, -703.556, -161.0813, -744.2894, -59.033585, -758.28455)

[node name="FractureShards" parent="." instance=ExtResource("7_4qakw")]
placed_in_level = true
instance_template = ExtResource("8_wj02g")
max_amount = 100
instantiate_new_on_empty = true
keep_instances_in_tree = true

[node name="Clouds" type="Sprite2D" parent="."]
z_index = 1
material = SubResource("ShaderMaterial_sryvg")
position = Vector2(0, 0.99999994)
scale = Vector2(2.82, 2.82)
texture = SubResource("NoiseTexture2D_whogj")

[node name="Clouds2" type="Sprite2D" parent="."]
z_index = 1
material = SubResource("ShaderMaterial_p6utv")
position = Vector2(0, 0.99999994)
scale = Vector2(2.82, 2.82)
